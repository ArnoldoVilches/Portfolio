package projects;

import com.google.gson.JsonArray;
import com.google.gson.JsonObject;
import com.google.gson.JsonParser;

import javafx.application.Application;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Node;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.Background;
import javafx.scene.layout.BackgroundFill;
import javafx.scene.layout.CornerRadii;
import javafx.scene.layout.Pane;
import javafx.scene.paint.Color;
import javafx.scene.text.Text;
import javafx.stage.Stage;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.util.List;

public class fxWeatherApp extends Application {

	public static String[] datesArray = new String[5];
	public static String cityName;
	public static double[] temperaturesArray = new double[5];
	public static String[] descriptionsArray = new String[5];
	public static String[] marker = new String[5];
	public static ImageView[] imageViews = new ImageView[5];
	public static int x;

	public static void main(String[] args) {
		launch(args);

	}

	@Override
	public void start(Stage primaryStage) throws Exception {
		Pane root = new Pane();
		Scene s1 = new Scene(root, 250, 500);

		root.setBackground(new Background(new BackgroundFill(Color.GREY, CornerRadii.EMPTY, Insets.EMPTY)));
		primaryStage.setTitle("Weather App");

		Label cityQuestion = new Label("Please enter your current location: City, State");
		cityQuestion.relocate(4, 0);

		TextField cityNameField = new TextField();
		cityNameField.relocate(39, 30);

		Button b1 = new Button("Enter");
		b1.relocate(95, 70);
		Label message = new Label("Here is your five day forecast!");
		b1.setOnAction(a -> {
			x++;
			cityName = cityNameField.getText();
			if (x > 1) {
				root.getChildren().removeAll(
						root.getChildren().filtered(node -> node instanceof Label || node instanceof ImageView));
				root.getChildren().addAll(cityQuestion, message);
			}
			fiveDayForeCast(primaryStage, cityName);
			for (int i = 0; i < datesArray.length; i++) {
				if (descriptionsArray[i].contains("clouds")) {
					imageViews[i] = new ImageView(
							"data:image/jpeg;base64,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");
				} else if (descriptionsArray[i].contains("clear")) {
					imageViews[i] = new ImageView(
							"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0-_sPnBx3kpfd5R-TSjrxyIOr_UB3kVwpGA&usqp=CAU");
				} else if (descriptionsArray[i].contains("rain")) {
					imageViews[i] = new ImageView(
							"https://cdn5.vectorstock.com/i/1000x1000/73/89/cloud-with-rain-weather-cartoon-style-vector-34467389.jpg");
				} else if (descriptionsArray[i].contains("thunderstorm")) {
					imageViews[i] = new ImageView(
							"data:image/png;base64,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");
				} else if (descriptionsArray[i].contains("snow")) {
					imageViews[i] = new ImageView(
							"data:image/jpeg;base64,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");
				} else if (descriptionsArray[i].contains("mist")) {
					imageViews[i] = new ImageView(
							"data:image/jpeg;base64,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");
				} else {
					imageViews[i] = new ImageView(
							"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Black.png/220px-Black.png");
				}
				Label dates = new Label(datesArray[i]);
				Label temp = new Label(
						String.format("Temperature  %.2f" + " F", ((temperaturesArray[i] - 273.15) * 9 / 5 + 32)));
				Label desc = new Label(descriptionsArray[i]);
				Label mark = new Label(marker[i]);

				dates.relocate(10, 150 + i * 60); // Adjust the y-coordinate based on your layout
				temp.relocate(10, (150 + i * 60) + 20);
				desc.relocate(10, (150 + i * 60) + 40);
				mark.relocate(10, (150 + i * 60) + 45);
				imageViews[i].relocate(150, 150 + i * 60);
				imageViews[i].setFitHeight(50);
				imageViews[i].setFitWidth(50);

				root.getChildren().addAll(dates, temp, desc, mark, imageViews[i]);
			}
		});
		message.relocate(40, 110);

		root.getChildren().addAll(cityQuestion, cityNameField, b1, message);

		primaryStage.setScene(s1);
		primaryStage.show();

	}

	private void displayErrorWindow(Exception errorMessage) {
		Stage errorStage = new Stage();
		errorStage.setTitle("Error");

		Pane errorRoot = new Pane();
		Scene errorScene = new Scene(errorRoot, 300, 100);

		errorRoot.setBackground(new Background(new BackgroundFill(Color.GREY, CornerRadii.EMPTY, Insets.EMPTY)));

		Label errorLabel = new Label("Input invalid. Please try again.");
		errorLabel.relocate(70, 10);
		errorRoot.getChildren().addAll(errorLabel);

		errorStage.setScene(errorScene);
		errorStage.show();
	}

	public void fiveDayForeCast(Stage primaryStage, String cityName) {
		try {
			String apiKey = "8d82672a935e4badc4af6e3843df002f";
			String city = cityName; // Replace with the city for which you want weather information

			// Make API request
			URL url = new URL("https://api.openweathermap.org/data/2.5/forecast?q=" + city + "&appid=" + apiKey);
			HttpURLConnection connection = (HttpURLConnection) url.openConnection();
			connection.setRequestMethod("GET");

			// Read the API response
			BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));
			StringBuilder response = new StringBuilder();
			String line;

			while ((line = reader.readLine()) != null) {
				response.append(line);
			}

			reader.close();

			// Parse JSON response
			JsonObject jsonResponse = JsonParser.parseString(response.toString()).getAsJsonObject();

			// Extract forecast entries
			JsonArray forecastList = jsonResponse.getAsJsonArray("list");

			// Track the date to print only one entry per day
			String dateTracker = "";

			// Count the date
			int datesCount = 0;

			// Iterate through forecast entries
			for (int i = 0; i < forecastList.size(); i++) {
				JsonObject forecast = forecastList.get(i).getAsJsonObject();

				// Extract relevant information for each forecast entry
				String timestamp = forecast.getAsJsonPrimitive("dt_txt").getAsString();
				String date = timestamp.split(" ")[0]; // Extract the date part

				// Check if it's a new day
				if (!date.equals(dateTracker)) {
					dateTracker = date;

					// Print information for the first entry of the day
					JsonObject main = forecast.getAsJsonObject("main");
					double temp = main.getAsJsonPrimitive("temp").getAsDouble();
					String description = forecast.getAsJsonArray("weather").get(0).getAsJsonObject()
							.getAsJsonPrimitive("description").getAsString();

					// iterate through the array using date counter as index
					datesArray[datesCount] = date;
					temperaturesArray[datesCount] = temp;
					descriptionsArray[datesCount] = description;
					marker[datesCount] = "---------------------------------";
					datesCount++;

					// Prevents out of bounds error
					if (datesCount >= 5) {
						// Break out of the loop once you have stored information for 5 dates
						break;
					}

					// Display the forecast information
					System.out.println("Date: " + date);
					System.out.println("Temperature: " + temp + " K"); // Temperature is in Kelvin
					System.out.println("Description: " + description);
					System.out.println("---------------------------------");
				}
			}

		} catch (Exception e) {
			displayErrorWindow(e);
			e.printStackTrace();
		}
	}
}
